---
title: "ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ€ãƒ¼ã«å‘ã‘ãŸAndroidé–‹ç™ºã¸ã®æ‰‹å¼•ã"
emoji: "ğŸ‰"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Creative Coding","p5js","Android","Jetpack Compose"]
published: false
---

## ã¯ã˜ã‚ã«

æœ¬è¨˜äº‹ã¯[Processing Advent Calendar 2024](https://adventar.org/calendars/9929)ã®4æ—¥ç›®ã®è¨˜äº‹ã§ã™ï¼

æ™®æ®µã¯ãƒ¢ãƒã‚¤ãƒ«ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚„ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã®ã‚ˆã†ãªã“ã¨ã‚’ã—ã¦ã„ã¾ã™ã€‚
ãŸã¾ã«p5.jsã‚’ä½¿ã£ã¦ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚‚æ¥½ã—ã‚“ã§ã„ã¾ã™ã€‚

ä»Šå›ã¯Androidã‚¢ãƒ—ãƒªã¨ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’æ›ã‘åˆã‚ã›ãŸå†…å®¹ã«ãªã‚Šã¾ã™ã€‚

Androidã‚¢ãƒ—ãƒªã§ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã‚„ã£ã¦ã¿ãŸã¨ã“ã‚ã€ãªã‹ãªã‹æ¥½ã—ã‹ã£ãŸã®ã§ãŠã™ã™ã‚ã§ãã‚‹ã¨æ€ã£ãŸç‚¹ã‚’ç´¹ä»‹ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ï¼

## ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³

è¿‘å¹´ã€Androidã‚¢ãƒ—ãƒªã¯Jetpack Composeã¨ã„ã†UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒç™ºå±•ã—ã€ã“ã‚Œã«ä¼´ã£ã¦Androidé–‹ç™ºç”¨ã®IDEã§ã‚ã‚‹Android Studioã‚‚ã•ã¾ã–ã¾ãªæ©Ÿèƒ½ãŒå¢—ãˆã¦ãã¾ã—ãŸã€‚

ã“ã‚ŒãŒã¨ã¦ã‚‚é–‹ç™ºä½“é¨“ãŒè‰¯ãã€ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã«ã‚‚ã„ã„ã®ã§ã¯ã¨æ„Ÿã˜ã¾ã—ãŸã€‚

Androidã‚¢ãƒ—ãƒªã¨ã—ã¦å‹•ãã‚¸ã‚§ãƒãƒ©ãƒ†ã‚£ãƒ–ã‚¢ãƒ¼ãƒˆã‚‚é¢ç™½ã„ã¨æ€ã„ã¾ã™ã—ã€å®Ÿè£…ã§ãã‚‹å ´é¢ãŒå¢—ãˆã‚‹ã¨ã‚ˆã‚Šã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç•Œéšˆã‚‚æ¥½ã—ããªã‚‹ã®ã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ï¼

## Processing for Androidã¨ã®é•ã„

æ—¢å­˜ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦[Processing for Android](https://android.processing.org/)ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã¡ã‚‰ã¯Javaã§è¨˜è¿°ã—ãŸProcessingã®ã‚³ãƒ¼ãƒ‰ã‚’Androidã‚¢ãƒ—ãƒªã§ä½¿ãˆã‚‹ç”¨ã«ã—ã¦ãã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚

ã“ã‚Œã¨é•ã„ã€ä»Šå›ã¯Androidé–‹ç™ºç’°å¢ƒä¸Šã§Kotlinã‚’ä½¿ã„ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã‚„ã‚ã†ã¨ã„ã†ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚

## Androidã¨Jetpack Composeã®ã„ã„ã¨ã“ã‚

- å®£è¨€çš„UIçš„ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆã¨é…ç½®ãŒæ›¸ãã‚„ã™ã„
- å›³å½¢ã‚„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ‰±ãˆã‚‹
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ã§ã‚¢ãƒ—ãƒªç”¨ã«ãƒ“ãƒ«ãƒ‰ã—ãªãã¦ã‚‚è¦‹ãŸç›®ã‚’ã™ãã«ç¢ºèªã§ãã‚‹
- Androidã€WearOSãªã©ã«ãƒ“ãƒ«ãƒ‰ã§ãã‚‹

## ã‚„ã£ã¦ã¿ã‚ˆã†

Jetpack Composeã®Canvasã‚’ç”¨ã„ã‚‹ã“ã¨ã§è‡ªç”±ãªå›³å½¢æç”»ãªã©ãŒã§ãã¾ã™ã€‚

ä»Šå›ã¯å††ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é…ç½®ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’p5jsã¨Jetpack Composeã¨ã§æ¯”è¼ƒã‚’ã—ã¦ã¿ã¾ã™ã€‚

### ç’°å¢ƒæ§‹ç¯‰

ç’°å¢ƒæ§‹ç¯‰ã«ã¤ã„ã¦ã¯è‰²ã€…ãªè§£èª¬è¨˜äº‹ãŒã‚ã‚‹ã®ã§çœç•¥ã•ã›ã¦ãã ã•ã„ã€‚

Android StudioãŒã‚ã‚Œã°å¤§ä¸ˆå¤«ã§ã™ã€‚
ç´°ã‹ã„ç’°å¢ƒæ§‹ç¯‰ã®æ–¹æ³•ã¯[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://developer.android.com/studio)ãŒå‚è€ƒã«ãªã‚Šã¾ã™ã€‚

### pï¼•.jsã§ä½œã£ã¦ã¿ã‚‹

p5.jsã§ä½œã£ã¦ã¿ã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚

@[codepen](https://codepen.io/norihirosunada/pen/JjBGVBz?editors=0010)

### Jetpack Composeã§ä½œã£ã¦ã¿ã‚‹

Android Jetpack Composeã§ä½œã‚‹ã¨ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚

```Kotlin
// Androidã‚¢ãƒ—ãƒªã®ãƒ¡ã‚¤ãƒ³ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        enableEdgeToEdge()
        setContent {
            MyTheme {
                Scaffold(modifier = Modifier.fillMaxSize()) { innerPadding ->
                    RandomCircles(
                        modifier = Modifier.padding(innerPadding),
                    )
                }
            }
        }
    }
}

// ã“ã“ã§å††ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«æç”»
@Composable
fun RandomCircles(modifier: Modifier = Modifier) {
    val randomSeed = Random(42)
    val randomColors =
        listOf(
            "#B74340",
            "#F2CE0E",
            "#0E1F28",
            "#266BB3",
        ).map {
            Color(android.graphics.Color.parseColor(it))
        }
    Canvas(
        modifier = modifier
            .fillMaxSize()
            .background(Color.White)
    ) {
        for (i in 1..20) {
            drawCircle(
                color = randomColors.random(randomSeed),
                radius = (50..150).random(randomSeed).toFloat(),
                center =
                    Offset(
                        x = (0..size.width.toInt()).random(randomSeed).toFloat(),
                        y = (0..size.height.toInt()).random(randomSeed).toFloat(),
                    ),
            )
        }
    }
}
```

ãã—ã¦ã€é–‹ç™ºä¸­ã¯ã“ã‚“ãªæ„Ÿã˜ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ã‚’ä½¿ã£ã¦è¡¨ç¤ºã‚’ç¢ºèªã§ãã¾ã™ã€‚

ã‚¢ãƒ—ãƒªã¨ã—ã¦æ›¸ãå‡ºã—ãŸã‚Šã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚‚ã„ã‚‰ãªã„ã®ã§ã€ã™ãã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚

ã“ã‚ŒãŒä»Šå›ä¸€ç•ªã«ç´¹ä»‹ã—ãŸã‹ã£ãŸã“ã¨ã§ã™ï¼

![](https://storage.googleapis.com/zenn-user-upload/562ed27ceac6-20241224.png)

## å¿œç”¨ï¼†çµ‚ã‚ã‚Šã«

ã“ã“ã‹ã‚‰ã•ã‚‰ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åŠ ãˆãŸã‚Šã€å®Ÿæ©Ÿã§å‹•ã‹ã—ãŸã‚Šã‚¢ãƒ—ãƒªã¨ã—ã¦å…¬é–‹ã‚‚ã§ãã¡ã‚ƒã„ã¾ã™ã€‚

ãŸã ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¯è€ƒãˆæ–¹ãŒã‘ã£ã“ã†Processingã¨é•ã„ãŒã‚ã‚Šã¾ã™ã€‚
ç°¡å˜ã«èª¬æ˜ã™ã‚‹ã¨ã€p5jsã¯æ™‚é–“ãƒ™ãƒ¼ã‚¹ã§ã‚ã‚‹ã®ã«å¯¾ã—ã¦Jetpack Composeã¯å€¤ãƒ™ãƒ¼ã‚¹ã®ä½œã‚Šæ–¹ã«ãªã‚Šã¾ã™ã€‚

PixelWatchã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å‹•ã‹ã—ã¦ã¿ãŸã‚‚ã®ãŒã“ã¡ã‚‰ã§ã™ã€‚
å®Ÿæ©Ÿã§å‹•ãã®ãŒãªã‚“ã ã‹å¬‰ã—ã„ã§ã™ã€‚

https://x.com/dasuna_dev/status/1851067019149611140


ã“ã‚Œä»¥å¤–ã«ã‚‚[ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼](https://developer.android.com/develop/ui/compose/graphics/draw/brush?hl=ja#agsl-runtimeshader)ã‚‚ä½¿ãˆã‚‹ã®ã§ã‹ãªã‚Šç ”ç©¶ã—ãŒã„ãŒã‚ã‚‹ãªã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚

æ°—ã«ãªã£ãŸæ–¹ã¯ãœã²ã‚„ã£ã¦ã¿ã¦ãã ã•ã„ï¼

ä»Šå›ã®Androidã®ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ã®GitHubã«ã‚¢ãƒƒãƒ—ã—ã¦ã‚ã‚Šã¾ã™ã€‚

https://github.com/norihirosunada/ProcessingAdventCalender2024
